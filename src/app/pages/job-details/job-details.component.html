<div class="bg-white">
  <app-breadcrumb></app-breadcrumb>
</div>
<div class="bg-white p-4 !m-5">
  <div class="!m-3">
    <div class="flex justify-between items-center !p-4 !mx-2">
      <div>Job Details</div>
      <button mat-raised-button color="primary">View configuration</button>
    </div>
    <div>
      <div class="!bg-[#F2F7FF]">
        <div class="flex items-center justify-between !p-4 !mx-2">
          <div>
            <div class="text-sm">Job Id</div>
            <div class="font-medium !mt-1 text-sm">{{ jobDetails.jobId }}</div>
          </div>
          <div>
            <div class="text-sm">Job Name</div>
            <div class="font-medium !mt-1 text-sm">
              {{ jobDetails.jobName }}
            </div>
          </div>
          <div>
            <div class="text-sm">Job Description</div>
            <div class="font-medium !mt-1 text-sm">
              {{ jobDetails.jobDescription }}
            </div>
          </div>
          <div>
            <div class="text-sm">Status Bar</div>
            <div class="progress-bar-container !mt-1">
              <div
                class="progress-bar text-sm"
                [ngClass]="jobDetails.status"
                [style.width.%]="jobDetails.progress"
              >
                <span class="progress-text">{{ jobDetails.progress }}%</span>
              </div>
            </div>
          </div>
          <div>
            <div class="text-sm">Triggered</div>
            <div class="font-medium !mt-1 text-sm">
              {{ jobDetails.triggeredOn }}
            </div>
          </div>
        </div>
      </div>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="taskId">
          <th mat-header-cell *matHeaderCellDef>Task ID</th>
          <td
            class="font-medium cursor-pointer"
            style="color: #3179e5"
            mat-cell
            *matCellDef="let element"
          >
            {{ element.taskId }}
          </td>
        </ng-container>

        <ng-container matColumnDef="taskDescription">
          <th mat-header-cell *matHeaderCellDef>Task Description</th>
          <td mat-cell *matCellDef="let element">
            {{ element.taskDescription }}
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">
            <div
              class="task-status"
              [ngClass]="element.status.replace(' ', '-')"
            >
              {{ element.status }}
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="errorMessage">
          <th mat-header-cell *matHeaderCellDef>Error Message</th>
          <td mat-cell *matCellDef="let element">
            {{ element.errorMessage }}
          </td>
        </ng-container>

        <ng-container matColumnDef="startTime">
          <th mat-header-cell *matHeaderCellDef>Start Time</th>
          <td mat-cell *matCellDef="let element">
            {{ element.startTime }}
          </td>
        </ng-container>

        <ng-container matColumnDef="endTime">
          <th mat-header-cell *matHeaderCellDef>End Time</th>
          <td mat-cell *matCellDef="let element">
            {{ element.endTime }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
  </div>
</div>
